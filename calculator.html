<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./reset.css">
    <link rel="stylesheet" href="./calculator.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Archivo+Black&family=Goldman:wght@400;700&family=Rajdhani:wght@400;500&family=Teko:wght@300;700&display=swap"
        rel="stylesheet">

    <title>Document</title>
</head>

<body>
    <div id="show">
        <h1>The Calculator.</h1>
        <p id="showText"></p>
    </div>

    <div id="content-out">
        <div id="content-in">
            <table id="calculator">
                <tr>
                    <td id="input" colspan="4" width="200px" height="80px"></td>
                </tr>

                <tr>
                    <td>C</td>
                    <td>/</td>
                    <td>*</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>8</td>
                    <td>9</td>
                    <td rowspan="2">+</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>5</td>
                    <td>6</td>
                </tr>

                <tr>
                    <td>1</td>
                    <td>2</td>
                    <td>3</td>
                    <td rowspan="2">=</td>
                </tr>

                <tr>
                    <td colspan="2">0</td>
                    <td>.</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        const input = document.getElementById('input')
        const showText = document.getElementById('showText')
        const td = document.querySelectorAll('td:not(#input)')
        const background = document.getElementById('content-out')
        const calculator = document.getElementById('calculator')

        input.onclick = function () {
            background.style.backgroundColor = 'rgb(195, 213, 216)'
            calculator.style.boxShadow = ' 5px 5px 5px 2px rgba(177, 177, 177, 0.9),5px 5px 5px 3px rgba(0, 0, 0, 0.288),2px 2px 4px 5px rgba(220, 228, 230, 0.9),-5px -5px 4px 4px rgba(220, 228, 230, 0.9)'

        }                        
        for (let i = 0; i < td.length; i++) {
            td[i].onclick = function () {
                console.log(this.innerText)
                // background.style.background=''
                showText.style.backgroundColor = 'rgb(93, 103, 238)'
                if (this.innerText == "=") {
                    input.innerText = eval(input.innerText)
                    showText.insertAdjacentHTML("beforeend", '=' + eval(input.innerText))
                } else if (this.innerText == "C") {
                    input.innerText = " "
                    showText.innerText = ""
                    showText.style.backgroundColor = ''

                } else {
                    if (input.innerText == "0") {
                        input.innerText = this.innerText
                        showText.innerText = this.innerText
                    }
                    else {
                        input.insertAdjacentHTML("beforeend", this.innerText)
                        showText.insertAdjacentHTML("beforeend", this.innerText)
                    }
                }
            }
        }
        document.onkeydown = (event) => {
            console.log(event.key);
            showText.style.backgroundColor = 'rgb(93, 103, 238)'

            if (event.key === 'Enter') {
                input.innerText = eval(input.innerText)
                showText.insertAdjacentHTML("beforeend", '=' + eval(input.innerText))
            } else if (event.key == "c") {
                input.innerText = " "
                showText.innerText = ""
                showText.style.backgroundColor = ''
            } else if (!isNaN(parseInt(event.key)) || event.key == '-' || event.key == '+' || event.key == '*' || event.key == '/' || event.key == '.') {
                if (input.innerText == '0') {
                    input.innerText == event.key
                    showText.innerText = event.key

                }
                else {
                    input.insertAdjacentHTML('beforeend', event.key)
                    showText.insertAdjacentHTML("beforeend", event.key)

                }
            }
        }






    </script>
</body>

</html>